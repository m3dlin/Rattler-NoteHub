<!DOCTYPE html>

<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap">
        <link rel="stylesheet" href="static/styles.css">
    </head>

    <body>
        <!--header-->
        {% include 'header.html' %}
        
        <!-- inbox page -->
        <div class="container-fluid inbox-container">
            <div class="row h-100">
                <!-- inbox list content-->
                <div class="col-4 inbox-list p-3">
                    <h4>Inbox</h4>
                    <div class="list-group" id="inboxList">
                        
                        <!-- messages -->
                        <a class="list-group-item list-group-item-action" data-title="CS3300 Post Reply" data-message=":3 replied with: blah blah blah." data-sender=":3" data-time="5 mins ago">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">CS3300 Post Reply</h5>
                                <small>5 mins ago</small>
                            </div>
                            <p class="mb-1 text-muted">:3 replied to your post</p>
                        </a>

                        <a class="list-group-item list-group-item-action" data-title="CS3300 Post Reply" data-message=">:3 replied with: blah blah blah. I think this note looks good." data-sender=">:3" data-time="3 hours ago">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">EN1311 Note Comment</h5>
                                <small>3 hours ago</small>
                            </div>
                            <p class="mb-1 text-muted"> >:3 replied to your post</p>
                        </a>

                        <a class="list-group-item list-group-item-action" data-title="Course Notification" data-message="Your course schedule has been updated." data-sender="Rattler NoteHub" data-time="2 days ago">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">Course Notification</h5>
                                <small>2 days ago</small>
                            </div>
                            <p class="mb-1 text-muted">Your course schedule has been updated.</p>
                        </a>

                    </div>
                </div>
        
                <!-- Message Details -->
                <div class="col-8 message-details p-3" id="messageDetails">
                    <!-- Default message -->
                    <div class="no-message" id="defaultMessage">No message selected</div>
                    <!-- Message content -->
                    <div id="messageContent" class="d-none">
                        <h4 id="messageTitle"></h4>
                        <p><small>From: <span id="messageSender"></span> | Sent: <span id="messageTime"></span></small></p>
                        <hr>
                        <p id="messageBody"></p>
                        <button type="submit" class="btn" id="original-post-btn" 
                        style="color: white; background-color: #395a7f;">
                        Original Post
                        </button>
                        <button class="btn btn-outline-secondary" id="delete-btn">Delete</button>
                    </div>
                </div>
            </div>
        </div>
        


    </body>

    <script>
        // JavaScript to handle dynamic message display
        document.querySelectorAll('#inboxList .list-group-item').forEach(item => {
            item.addEventListener('click', () => {
                const title = item.getAttribute('data-title');
                const message = item.getAttribute('data-message');
                const sender = item.getAttribute('data-sender');
                const time = item.getAttribute('data-time');
    
                // Populate message details
                document.getElementById('messageTitle').textContent = title;
                document.getElementById('messageBody').textContent = message;
                document.getElementById('messageSender').textContent = sender;
                document.getElementById('messageTime').textContent = time;
    
                // Toggle visibility
                document.getElementById('defaultMessage').classList.add('d-none');
                document.getElementById('messageContent').classList.remove('d-none');
            });
        });
    </script>

</html>
